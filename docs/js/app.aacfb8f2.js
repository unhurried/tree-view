(function(t){function e(e){for(var o,c,a=e[0],u=e[1],l=e[2],d=0,f=[];d<a.length;d++)c=a[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&f.push(r[c][0]),r[c]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);s&&s(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(o=!1)}o&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},r={app:0},i=[];function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/tree-view/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var s=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},8938:function(t,e,n){},"91d2":function(t,e,n){"use strict";var o=n("e1cc"),r=n.n(o);r.a},a084:function(t,e,n){"use strict";var o=n("8938"),r=n.n(o);r.a},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("ImportExportButton",{staticClass:"float-right",attrs:{doc:t.doc},on:{fileLoaded:t.onFileLoaded}}),n("TreeList",{staticClass:"tree-list",attrs:{doc:t.doc}})],1)},i=[],c=n("d225"),a=n("b0b4"),u=n("308d"),l=n("6bb5"),s=n("4e2b"),d=n("9ab4"),f=n("60a3"),p=n("5f5b"),h=(n("f9e3"),n("2dd8"),n("ecee")),v=n("c074"),b=n("ad3d"),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("draggable",{staticClass:"dragArea fa-ul",attrs:{tag:"ul",list:t.doc,group:{name:"g1"}}},t._l(t.doc,(function(e){return n("TreeListItem",{key:e._uid,attrs:{doc:e},on:{left:t.onLeft,right:t.onRight,add:t.onAdd,remove:t.onRemove}})})),1)},m=[],O=n("310e"),k=n.n(O),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"tree-list-item"},[n("span",{on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave}},[n("span",{staticClass:"fa-li",on:{click:function(e){return t.toggleFolded()}}},[t.isOpen?n("font-awesome-icon",{attrs:{icon:"minus"}}):n("font-awesome-icon",{attrs:{icon:"plus"}})],1),t.editMode?n("span",{attrs:{id:"tree-list-input",contenteditable:"true"},domProps:{textContent:t._s(t.textForInput)},on:{input:t.onInput,blur:t.onBlur,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.blur(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.blur(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:e.ctrlKey?"button"in e&&0!==e.button?null:t.toLeft(e):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?null:e.ctrlKey?"button"in e&&2!==e.button?null:t.toRight(e):null}]}}):n("span",{attrs:{contenteditable:"false"},domProps:{innerHTML:t._s(t.html)},on:{mouseup:function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.onFocus(e)}}}),t.editMode||t.displayMenu?n("span",{staticClass:"menu"},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:"arrow-circle-left"},on:{click:t.toLeft}}),n("font-awesome-icon",{staticClass:"icon",attrs:{icon:"arrow-circle-right"},on:{click:t.toRight}})],1):t._e(),t.editMode||t.displayMenu?n("span",{staticClass:"menu"},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:"plus-circle"},on:{click:t.addItem}}),n("font-awesome-icon",{staticClass:"icon",attrs:{icon:"minus-circle"},on:{click:t.removeItem}})],1):t._e()]),n("TreeList",{class:{invisible:!t.isOpen},attrs:{doc:t.doc.children}})],1)},x=[],j=n("0e54"),w=n.n(j),C=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.folded=!0,t.editMode=!1,t.displayMenu=!1,t}return Object(s["a"])(e,t),Object(a["a"])(e,[{key:"updated",value:function(){this.textForInput=this.doc.text}},{key:"toggleFolded",value:function(){this.folded=!this.folded}},{key:"blur",value:function(){document.activeElement&&document.activeElement.blur()}},{key:"onFocus",value:function(){this.editMode=!0,this.$nextTick((function(){var t=document.getElementById("tree-list-input");t&&t.focus()}))}},{key:"onBlur",value:function(){this.editMode=!1;var t=document.getElementById("tree-list-input");t&&(this.textForInput=t.innerText)}},{key:"onInput",value:function(){var t=document.getElementById("tree-list-input");t&&(this.doc.text=t.innerText)}},{key:"onMouseEnter",value:function(){this.displayMenu=!0}},{key:"onMouseLeave",value:function(){this.displayMenu=!1}},{key:"addItem",value:function(){this.$emit("add",this.doc)}},{key:"removeItem",value:function(){this.$emit("remove",this.doc)}},{key:"toLeft",value:function(){if(this.blur(),this.$parent&&this.$parent.$parent&&this.$parent.$parent.$parent){var t=this.$parent.$parent.$parent;t.$emit("left",this.doc,t.$props.doc)}}},{key:"toRight",value:function(){this.blur(),this.$emit("right",this.doc)}},{key:"isOpen",get:function(){return 0===this.doc.children.length||this.folded}},{key:"html",get:function(){if(!this.doc.text)return null;var t=w()(this.doc.text);return t.substr(3,t.length-8)}}]),e}(f["c"]);Object(d["a"])([Object(f["b"])()],C.prototype,"doc",void 0),C=Object(d["a"])([Object(f["a"])({name:"TreeListItem"})],C);var _=C,L=_,E=(n("91d2"),n("2877")),I=Object(E["a"])(L,g,x,!1,null,"6e238260",null),$=I.exports,M=function t(){Object(c["a"])(this,t),this.text=null,this.children=new Array},T=function(t){function e(){return Object(c["a"])(this,e),Object(u["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(s["a"])(e,t),Object(a["a"])(e,[{key:"onLeft",value:function(t,e){var n=this.doc.indexOf(e),o=this.doc[n].children.indexOf(t);this.doc[n].children.splice(o,1),this.doc.splice(n+1,0,t)}},{key:"onRight",value:function(t){var e=this.doc.indexOf(t);e>=1&&(this.doc.splice(e,1),this.doc[e-1].children.push(t))}},{key:"onAdd",value:function(t){var e=this.doc.indexOf(t),n=new M;n.text="new item",this.doc.splice(e+1,0,n)}},{key:"onRemove",value:function(t){var e=this.doc.indexOf(t);void 0!==e&&this.doc.splice(e,1)}}]),e}(f["c"]);Object(d["a"])([Object(f["b"])({default:null})],T.prototype,"doc",void 0),T=Object(d["a"])([Object(f["a"])({name:"TreeList",components:{draggable:k.a,TreeListItem:$}})],T);var K=T,F=K,R=Object(E["a"])(F,y,m,!1,null,"4f958ff8",null),B=R.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{id:"import-button"}},[n("font-awesome-icon",{attrs:{icon:"file-import"}}),t._v(" Import\n    "),n("input",{staticClass:"d-none",attrs:{type:"file"},on:{change:t.onFileChange}})],1),n("label",{attrs:{id:"export-button"},on:{click:t.onExportClick}},[n("font-awesome-icon",{attrs:{icon:"file-export"}}),t._v(" Export\n  ")],1),n("a",{staticClass:"d-none",attrs:{id:"exportLink",download:"tree.md",href:t.exportHref}})])},P=[],S=(n("14b9"),n("ac6a"),function(){function t(){Object(c["a"])(this,t)}return Object(a["a"])(t,[{key:"parse",value:function(t){var e=new w.a.Renderer;e.link=function(t,e,n){return"[".concat(n,"](").concat(t,")")};var n=w()(t,{renderer:e}),o=(new DOMParser).parseFromString(n,"text/html"),r=o.querySelector("html body");return null===r?new Array:this.parseChildren(r)}},{key:"convert",value:function(t){return this.convertItem(t)}},{key:"parseChildren",value:function(t){var e=this,n=new Array;return t.setAttribute("id","root"),t.querySelectorAll("#root > ul > li").forEach((function(t){var o=new M;o.text=t.childNodes[0].textContent,o.children=e.parseChildren(t),n.push(o)})),n}},{key:"parseText",value:function(t){return t.childNodes[0].textContent}},{key:"convertItem",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o="";return t.forEach((function(t){o+="".concat("\t".repeat(n),"* ").concat(t.text,"\n"),o+=e.convertItem(t.children,n+1)})),o}}]),t}()),D=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.exportHref=null,t}return Object(s["a"])(e,t),Object(a["a"])(e,[{key:"onFileChange",value:function(t){var e=this,n=t.target.files;if(n&&n.length>0){var o=new FileReader;o.onload=function(){e.$emit("fileLoaded",o.result)},o.readAsText(n[0])}}},{key:"onExportClick",value:function(){var t=(new S).convert(this.doc),e=new Blob([t],{type:"text/plain"});window.navigator.msSaveBlob?window.navigator.msSaveBlob(e,"tree.md"):(this.exportHref=window.URL.createObjectURL(e),this.$nextTick((function(){var t=document.getElementById("exportLink");t&&t.click()})))}}]),e}(f["c"]);Object(d["a"])([Object(f["b"])()],D.prototype,"doc",void 0),D=Object(d["a"])([Object(f["a"])({name:"ImportExportButton"})],D);var H=D,q=H,J=(n("e439"),Object(E["a"])(q,A,P,!1,null,"eeb4e11a",null)),N=J.exports,U=n("bc3a"),z=n.n(U);f["c"].use(p["a"]),h["c"].add(v["g"],v["e"],v["h"],v["f"]),h["c"].add(v["a"],v["b"]),h["c"].add(v["d"],v["c"]),f["c"].component("font-awesome-icon",b["a"]),f["c"].component("TreeList",B);var G=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.doc=null,t}return Object(s["a"])(e,t),Object(a["a"])(e,[{key:"created",value:function(){var t=this;z.a.get(this.path).then((function(e){t.updateDoc(e.data)}))}},{key:"onFileLoaded",value:function(t){this.updateDoc(t)}},{key:"updateDoc",value:function(t){this.doc=(new S).parse(t)}}]),e}(f["c"]);Object(d["a"])([Object(f["b"])({default:"tree.md"})],G.prototype,"path",void 0),G=Object(d["a"])([Object(f["a"])({components:{ImportExportButton:N}})],G);var Q=G,V=Q,W=(n("a084"),Object(E["a"])(V,r,i,!1,null,"29b0469e",null)),X=W.exports;o["default"].config.productionTip=!1,new o["default"]({render:function(t){return t(X,{props:{path:"./tree.md"}})}}).$mount("#app")},e1cc:function(t,e,n){},e439:function(t,e,n){"use strict";var o=n("fed7"),r=n.n(o);r.a},fed7:function(t,e,n){}});
//# sourceMappingURL=app.aacfb8f2.js.map